<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F²LAMEA - Fathers & Family Legal Advocacy Movement</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <!-- Add rss-parser library from CDN for podcast player -->
    <script src="https://unpkg.com/rss-parser@3.13.0/dist/rss-parser.min.js"></script>
</head>
<body class="index-page">
    <header>
        <div class="container">
            <h1>F²LAMEA</h1>
            <p>Fathers & Family Legal Advocacy Movement for Equality and Accountability</p>
            <nav>
                <ul>
                    <li><a href="index.html" class="active">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="our-work.html">Our Work</a></li>
                    <li><a href="news-books.html">Latest News & Articles</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><button class="podcast-btn" onclick="togglePodcastPlayer()">Podcast Player</button></li>
                    <li><button class="search-btn" onclick="toggleSearch()">Search</button></li>
                </ul>
                <!-- Search container -->
                <div id="search-container">
                    <input type="text" id="search-input" placeholder="Search Flamea...">
                    <button onclick="performSearch()">Go</button>
                </div>
                <!-- Podcast player container (hidden by default) -->
                <div id="podcast-player" style="display: none; margin-top: 20px;">
                    <h3>Latest Podcasts</h3>
                    <div id="episode-list"></div>
                </div>
            </nav>
        </div>
    </header>

    <section class="mission">
        <div class="container">
            <h2>Welcome to F²LAMEA</h2>
            <p>F²LAMEA is a father-driven family advocacy movement originating in South Africa, dedicated to challenging discriminatory practices in family courts and promoting true equality before the law for all parents.</p>
            <p>Explore our work, resources, and stories to join us in the fight for justice and family unity.</p>
            <p>We are committed to exposing and rectifying systemic biases that marginalize fathers, create unequal access to parental rights, and separate children from their fathers and paternal families. Our mission is rooted in the belief that children deserve meaningful relationships with both parents and their extended families, free from discrimination.</p>

            <div class="mission-card">
                <h3>What We Offer</h3>
                <ul>
                    <li><i class="fas fa-gavel"></i> <a href="resources.html">Legal Advocacy & Resources</a></li>
                    <li><i class="fas fa-book"></i> <a href="news-books.html#publications">Books (<em>Goliath's Reckoning</em>, <em>Beyond Redress</em>, <em>The Homeschooling Father</em>)</a></li>
                    <li><i class="fas fa-podcast"></i> <a href="https://anchor.fm/s/10357aacc/podcast/rss" target="_blank">Podcasts for Insight</a></li>
                    <li><i class="fas fa-users"></i> <a href="blog.html">Community Support</a></li>
                </ul>
            </div>

            <div class="cta-box">
                <p>Join us today in the fight for justice, equality, and family unity. Together, we can ensure that every child has the right to a loving relationship with both parents and their extended family.</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-contact">
                <p><strong>Email:</strong> <a href="mailto:flamea2024@gmail.com">flamea2024@gmail.com</a></p>
                <p><strong>Website:</strong> <a href="https://flamea.org/" target="_blank">https://flamea.org/</a></p>
                <p><strong>X (Twitter):</strong> <a href="https://twitter.com/flamea2024" target="_blank"><i class="fab fa-x-twitter"></i> @flamea2024</a></p>
                <p><strong>YouTube:</strong> <a href="https://www.youtube.com/@Flamea2024" target="_blank"><i class="fab fa-youtube"></i> @Flamea2024</a></p>
                <p><strong>Books Available from:</strong></p>
                <ul>
                    <li><a href="https://play.google.com/store/search?q=salatiso&c=books&hl=en_ZA" target="_blank">Google Play Books</a></li>
                    <li><a href="https://books.apple.com/au/author/salatiso-mdeni/id1745396063" target="_blank">Apple Books</a></li>
                    <li><a href="https://www.takealot.com/goliath-s-reckoning/PLID96099334" target="_blank">Takealot</a></li>
                </ul>
            </div>
            <p>© 2025 F²LAMEA. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Search functionality
        function toggleSearch() {
            const searchContainer = document.getElementById('search-container');
            searchContainer.style.display = searchContainer.style.display === 'none' ? 'block' : 'none';
        }

        function performSearch() {
            const query = document.getElementById('search-input').value.trim();
            if (query) {
                alert('Searching for: ' + query); // Replace with your search logic if needed
            }
        }

        // Podcast player functionality
        function togglePodcastPlayer() {
            const player = document.getElementById('podcast-player');
            if (player.style.display === 'none') {
                player.style.display = 'block';
                loadPodcastEpisodes(); // Load episodes when player is shown
            } else {
                player.style.display = 'none';
            }
        }

        async function loadPodcastEpisodes() {
            const episodeList = document.getElementById('episode-list');
            if (episodeList.innerHTML) return; // Only load once

            const parser = new RSSParser();
            const CORS_PROXY = "https://cors-anywhere.herokuapp.com/"; // Use a proxy to avoid CORS issues
            const feedUrl = "https://anchor.fm/s/10357aacc/podcast/rss";

            try {
                const feed = await parser.parseURL(CORS_PROXY + feedUrl);
                feed.items.forEach(item => {
                    const episodeDiv = document.createElement('div');
                    episodeDiv.className = 'episode';
                    episodeDiv.innerHTML = `
                        <h4>${item.title}</h4>
                        <p>${item.pubDate}</p>
                        <audio controls>
                            <source src="${item.enclosure.url}" type="${item.enclosure.type}">
                            Your browser does not support the audio element.
                        </audio>
                    `;
                    episodeList.appendChild(episodeDiv);
                });
            } catch (error) {
                episodeList.innerHTML = '<p>Error loading podcast episodes. Please try again later.</p>';
                console.error('Error fetching RSS feed:', error);
            }
        }
    </script>
</body>
</html>
